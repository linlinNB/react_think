{
    "version": 3,
    "sources": [
        "..\\..\\src\\controller\\articleList.js"
    ],
    "names": [
        "Base",
        "require",
        "module",
        "exports",
        "getartlistAction",
        "ArticleType",
        "post",
        "console",
        "log",
        "model",
        "result",
        "field",
        "join",
        "User",
        "on",
        "menutype",
        "where",
        "select",
        "then",
        "data",
        "think",
        "isEmpty",
        "json",
        "showartlistAction",
        "ArticleId",
        "get",
        "find",
        "deleteartlistAction",
        "delete",
        "addartlistAction",
        "TypeId",
        "articleTitle",
        "articleContent",
        "articleAuother",
        "add",
        "ArticleTitle",
        "ArticleContent",
        "ArticleAuother"
    ],
    "mappings": "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",
    "file": "..\\..\\src\\controller\\articleList.js",
    "sourcesContent": [
        "const Base = require('./base.js');\r\nmodule.exports = class extends Base {\r\n    //展示文章列表，对于不同的栏目有分类，垮了三个表进行查询\r\n    async getartlistAction() {\r\n        let ArticleType = this.post('ArticleType');\r\n        console.log('获取到的文章种类 = ', ArticleType);\r\n        let model = this.model('Article');\r\n        let result = await model.field('ArticleTitle,ArticleType, UserName, TypeId, TypeName, ArticleId')\r\n            .join({\r\n                User: {join: 'inner', on: ['ArticleAuother', 'UserId']},\r\n                menutype: {join: 'inner', on: ['ArticleType', 'TypeId']}\r\n            })\r\n            .where({'ArticleType': ArticleType}).select().then(function (data) {\r\n                return data;\r\n            })\r\n\r\n        console.log('文章分类中数据库查询结果 = ', result);\r\n        if (think.isEmpty(result) === false) {\r\n            this.json({'getArticleList': true, 'ArticleList': result});\r\n        } else {\r\n            this.json({'getArticleList': false});\r\n        }\r\n    }\r\n    //展示文章详情，时间不足够了，所以抱歉\r\n    async showartlistAction() {\r\n        let ArticleId = this.get('articleid');\r\n        console.log('获取到文章的ID = ', ArticleId);\r\n        let model = this.model('Article');\r\n        let result = await model.where({'ArticleId': ArticleId}).find().then(function (data) {\r\n            return data;\r\n        })\r\n        console.log('按照ID查询获取的文章信息 = ', result);\r\n        if (think.isEmpty(result) === false) {\r\n            this.json({'showArticle': true, 'ArticleList': result});\r\n        } else {\r\n            this.json({'showArticle': false});\r\n        }\r\n    }\r\n    //删除文章\r\n    async deleteartlistAction() {\r\n        let ArticleId = this.get('articleid');\r\n        console.log('删除文章的ID = ', ArticleId);\r\n        let model = this.model('Article');\r\n        let result = await model.where({'ArticleId': ArticleId}).delete().then(function (data) {\r\n            return data;\r\n        })\r\n        console.log('删除文章的数量 = ', result);\r\n        if (result) {\r\n            this.json({'deleteSucc': true});\r\n        } else {\r\n            this.json({'deleteSucc': false});\r\n        }\r\n    }\r\n\r\n    //添加新文章\r\n    async addartlistAction() {\r\n        let TypeId = this.post('TypeId');\r\n        let articleTitle = this.post('articleTitle');\r\n        let articleContent = this.post('articleContent');\r\n        /*let articleAuother = this.post('articleAuother');*/\r\n        let articleAuother = 1;\r\n        /* 此处并不是因为偷懒，而是因为三表联查的时候关联了用户表，所以在数据库之后一人的情况下，实在不方便 */\r\n        let model = this.model('Article');\r\n        let result = await model.add({\r\n            ArticleTitle: articleTitle,\r\n            ArticleContent: articleContent,\r\n            ArticleAuother: articleAuother,\r\n            ArticleType: TypeId,\r\n        }).then((data)=>{ return data});\r\n        console.log('增加新文章 result = ', result);\r\n        if (result>0){\r\n            this.json({'addArticleSucc': true});\r\n        } else {\r\n            this.json({'addArticleSucc': false});\r\n        }\r\n    }\r\n}"
    ]
}